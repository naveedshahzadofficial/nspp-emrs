"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[541],{7577:(e,t,n)=>{n.d(t,{M:()=>l});var r=n(8748),s=n(8542),o=n.n(s);function l(){return{filterData:function(e,t){t=Object.keys(t).reduce((function(e,n){var r=t[n];return""!==r&&null!=r&&(e[n]=r),e}),{}),r.Nd.get(route(e),t,{preserveScroll:!0,preserveState:!0,replace:!0})},destroy:function(e,t){o().fire({text:"Are you sure you want to delete this?",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete",buttonsStyling:!1,customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-secondary"}}).then((function(n){n.isConfirmed&&r.Nd.delete(route(e,t),{preserveScroll:!0})}))},changeStatus:function(e,t){o().fire({text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:null!=t&&t.status?"Deactivate":"Activate",buttonsStyling:!1,customClass:{confirmButton:null!=t&&t.status?"btn fw-bold btn-danger":"btn fw-bold btn-success",cancelButton:"btn fw-bold btn-secondary"}}).then((function(n){n.isConfirmed&&r.Nd.delete(route(e,null==t?void 0:t.id),{preserveScroll:!0})}))},revoke:function(e,t,n){o().fire({text:"Are you sure you want to revoke this?",icon:"warning",showCancelButton:!0,confirmButtonText:"Revoke",buttonsStyling:!1,customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-secondary"}}).then((function(s){s.isConfirmed&&r.Nd.delete(route(e,[t,n]),{preserveScroll:!0})}))}}}},8706:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(821),s={key:0,class:"fv-plugins-message-container"},o={class:"fv-help-block"};const l=(0,r.aZ)({__name:"ServerErrorMessage",props:{error:String},setup:function(e){return function(t,n){return e.error?((0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",o,[(0,r._)("span",null,(0,r.zw)(e.error),1)])])):(0,r.kq)("",!0)}}})},3541:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var r=n(821),s=n(8706),o=n(8748),l=n(7577),a={class:"d-flex flex-column-fluid"},i={id:"kt_content_container",class:"container-fluid"},c={class:"card card-custom"},u={class:"card-body"},d={class:"row mb-10"},m={class:"col-lg-6"},b=(0,r._)("label",{class:"required form-label"},"Role Name",-1),f={class:"col-lg-6"},p=(0,r._)("label",{class:"required form-label"},"Status",-1),v={class:"d-flex"},_=["onUpdate:modelValue","value","id"],g=["for"],w={class:"row"},k={class:"col-lg-12"},y=(0,r._)("label",{class:"form-label"},"Permissions",-1),S={class:"card-footer"},h=["disabled","data-kt-indicator"],U=[(0,r._)("span",{class:"indicator-label"}," Update ",-1),(0,r._)("span",{class:"indicator-progress"},[(0,r.Uk)(" Please wait... "),(0,r._)("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1)],x=(0,r._)("div",{class:"card-header mt-10"},[(0,r._)("div",{class:"card-title"},[(0,r._)("span",{class:"fw-semibold"},"Role Permissions")])],-1),B={class:"card-body"},C={class:"table-responsive"},D={class:"table table-row-bordered table-row-gray-300 align-middle gs-0 gy-4"},R=(0,r._)("thead",null,[(0,r._)("tr",{class:"fw-semibold fs-6 text-gray-800"},[(0,r._)("th",null,"Permission Name"),(0,r._)("th",{class:"text-center w-200px"},"Action")])],-1),A={class:"text-center"},N=["onClick"],W=[(0,r._)("i",{class:"fas fa-undo"},null,-1)];const P=(0,r.aZ)({__name:"Edit",props:{role:{type:Object,required:!0},permissions:Array},setup:function(e){var t,n,P=e,V=(0,l.M)().revoke,Z=(0,o.cI)({name:null===(t=P.role)||void 0===t?void 0:t.name,status:null===(n=P.role)||void 0===n?void 0:n.status,permissions:[]});return(0,r.bv)((function(){var e;Z.permissions=null===(e=P.role)||void 0===e?void 0:e.permissions})),(0,r.YP)((function(){return P.role}),(function(){var e;return Z.permissions=null===(e=P.role)||void 0===e?void 0:e.permissions})),function(t,n){var o=(0,r.up)("Head"),l=(0,r.up)("Toolbar"),P=(0,r.up)("v-select"),M=(0,r.up)("Link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(o,{title:"Update Role"}),(0,r.Wm)(l,{title:"Update Role",buttons:[{label:"Back",link:t.route("roles.index")}],breadcrumbs:[{label:"System Settings",link:"#"},{label:"Roles",link:t.route("roles.index")},{label:"Update",link:null}]},null,8,["buttons","breadcrumbs"]),(0,r._)("div",a,[(0,r._)("div",i,[(0,r._)("div",c,[(0,r._)("form",{onSubmit:n[2]||(n[2]=(0,r.iM)((function(n){var s;return(0,r.SU)(Z).put(t.route("roles.update",null===(s=e.role)||void 0===s?void 0:s.id))}),["prevent"]))},[(0,r._)("div",u,[(0,r._)("div",d,[(0,r._)("div",m,[b,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,r.SU)(Z).name=e}),type:"text",class:"form-control form-control-sm",placeholder:"Role Name"},null,512),[[r.nr,(0,r.SU)(Z).name]]),(0,r.Wm)(s.Z,{error:(0,r.SU)(Z).errors.name},null,8,["error"])]),(0,r._)("div",f,[p,(0,r._)("div",v,[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)([{id:1,name:"Active"},{id:0,name:"Inactive"}],(function(e){return(0,r._)("div",{key:e.id,class:"form-check form-check-custom form-check-sm me-10"},[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":function(e){return(0,r.SU)(Z).status=e},value:e.id,class:"form-check-input",name:"status",type:"radio",id:"status_".concat(e.id)},null,8,_),[[r.G2,(0,r.SU)(Z).status]]),(0,r._)("label",{class:"form-check-label",for:"status_".concat(e.id)},(0,r.zw)(e.name),9,g)])})),64))]),(0,r.Wm)(s.Z,{error:(0,r.SU)(Z).errors.status},null,8,["error"])])]),(0,r._)("div",w,[(0,r._)("div",k,[y,(0,r.Wm)(P,{modelValue:(0,r.SU)(Z).permissions,"onUpdate:modelValue":n[1]||(n[1]=function(e){return(0,r.SU)(Z).permissions=e}),options:e.permissions,multiple:"",label:"name",class:"v-select-custom",placeholder:"Please Select"},null,8,["modelValue","options"]),(0,r.Wm)(s.Z,{error:(0,r.SU)(Z).errors.permissions},null,8,["error"])])])]),(0,r._)("div",S,[(0,r._)("button",{type:"submit",ref:"submitButton",class:"btn btn-success me-2",disabled:(0,r.SU)(Z).processing,"data-kt-indicator":(0,r.SU)(Z).processing?"on":"off"},U,8,h),(0,r.Wm)(M,{href:t.route("roles.index"),class:"btn btn-secondary"},{default:(0,r.w5)((function(){return[(0,r.Uk)("Cancel")]})),_:1},8,["href"])])],32),x,(0,r._)("div",B,[(0,r._)("div",C,[(0,r._)("table",D,[R,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.role.permissions,(function(t){return(0,r.wg)(),(0,r.iD)("tr",{key:t.id},[(0,r._)("td",null,(0,r.zw)(t.name),1),(0,r._)("td",A,[(0,r._)("a",{onClick:(0,r.iM)((function(n){return(0,r.SU)(V)("roles.permissions.revoke",e.role.id,t.id)}),["prevent"]),class:"btn btn-icon btn-danger btn-circle btn-sm me-2","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Revoke"},W,8,N)])])})),128))])])])])])])])],64)}}})}}]);