"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[210],{7577:(e,r,s)=>{s.d(r,{M:()=>t});var l=s(8748),o=s(8542),n=s.n(o);function t(){return{filterData:function(e,r){r=Object.keys(r).reduce((function(e,s){var l=r[s];return""!==l&&null!=l&&(e[s]=l),e}),{}),l.Nd.get(route(e),r,{preserveScroll:!0,preserveState:!0,replace:!0})},destroy:function(e,r){n().fire({text:"Are you sure you want to delete this?",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete",buttonsStyling:!1,customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-secondary"}}).then((function(s){s.isConfirmed&&l.Nd.delete(route(e,r),{preserveScroll:!0})}))},changeStatus:function(e,r){n().fire({text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:null!=r&&r.status?"Deactivate":"Activate",buttonsStyling:!1,customClass:{confirmButton:null!=r&&r.status?"btn fw-bold btn-danger":"btn fw-bold btn-success",cancelButton:"btn fw-bold btn-secondary"}}).then((function(s){s.isConfirmed&&l.Nd.delete(route(e,null==r?void 0:r.id),{preserveScroll:!0})}))},revoke:function(e,r,s){n().fire({text:"Are you sure you want to revoke this?",icon:"warning",showCancelButton:!0,confirmButtonText:"Revoke",buttonsStyling:!1,customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-secondary"}}).then((function(o){o.isConfirmed&&l.Nd.delete(route(e,[r,s]),{preserveScroll:!0})}))}}}},8706:(e,r,s)=>{s.d(r,{Z:()=>t});var l=s(821),o={key:0,class:"fv-plugins-message-container"},n={class:"fv-help-block"};const t=(0,l.aZ)({__name:"ServerErrorMessage",props:{error:String},setup:function(e){return function(r,s){return e.error?((0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("div",n,[(0,l._)("span",null,(0,l.zw)(e.error),1)])])):(0,l.kq)("",!0)}}})},7210:(e,r,s)=>{s.r(r),s.d(r,{default:()=>ee});var l=s(821),o=s(8706),n=s(8748),t=s(7577),a={class:"d-flex flex-column-fluid"},i={id:"kt_content_container",class:"container-fluid"},c={class:"card card-custom"},u={class:"card-body"},d={class:"row mb-10"},m={class:"col-lg-6"},b=(0,l._)("label",{class:"required form-label"},"Name",-1),f={class:"col-lg-6"},p=(0,l._)("label",{class:"required form-label"},"Username",-1),v={class:"row mb-10"},_={class:"col-lg-6"},w=(0,l._)("label",{class:"required form-label"},"Email",-1),g={class:"col-lg-6"},U=(0,l._)("label",{class:"required form-label"},"Status",-1),y={class:"d-flex"},S=["onUpdate:modelValue","value","id"],k=["for"],h={class:"row mb-10"},x={class:"col-lg-6"},C=(0,l._)("label",{class:"required form-label"},"Password",-1),B={class:"col-lg-6"},V=(0,l._)("label",{class:"required form-label"},"Confirm Password",-1),W={class:"row mb-10"},P={class:"col-lg-12"},Z=(0,l._)("label",{class:"form-label"},"Roles",-1),D={class:"row mb-10"},A={class:"col-lg-12"},q=(0,l._)("label",{class:"form-label"},"Permissions",-1),N={class:"card-footer"},M=["disabled","data-kt-indicator"],R=[(0,l._)("span",{class:"indicator-label"}," Update ",-1),(0,l._)("span",{class:"indicator-progress"},[(0,l.Uk)(" Please wait... "),(0,l._)("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1)],H=(0,l._)("div",{class:"card-header mt-10"},[(0,l._)("div",{class:"card-title"},[(0,l._)("span",{class:"fw-semibold"},"User Roles")])],-1),Y={class:"card-body"},z={class:"table-responsive"},E={class:"table table-row-bordered table-row-gray-300 align-middle gs-0 gy-4"},T=(0,l._)("thead",null,[(0,l._)("tr",{class:"fw-semibold fs-6 text-gray-800"},[(0,l._)("th",null,"Role Name"),(0,l._)("th",{class:"text-center w-200px"},"Action")])],-1),K={class:"text-center"},j=["onClick"],I=[(0,l._)("i",{class:"fas fa-undo"},null,-1)],O=(0,l._)("div",{class:"card-header"},[(0,l._)("div",{class:"card-title"},[(0,l._)("span",{class:"fw-semibold"},"User Permissions")])],-1),F={class:"card-body"},G={class:"table-responsive"},L={class:"table table-row-bordered table-row-gray-300 align-middle gs-0 gy-4"},J=(0,l._)("thead",null,[(0,l._)("tr",{class:"fw-semibold fs-6 text-gray-800"},[(0,l._)("th",null,"Permission Name"),(0,l._)("th",{class:"text-center w-200px"},"Action")])],-1),Q={class:"text-center"},X=["onClick"],$=[(0,l._)("i",{class:"fas fa-undo"},null,-1)];const ee=(0,l.aZ)({__name:"Edit",props:{user:{type:Object,required:!0},roles:Array,permissions:Array},setup:function(e){var r,s,ee,re,se=e,le=(0,t.M)().revoke,oe=(0,n.cI)({name:null===(r=se.user)||void 0===r?void 0:r.name,username:null===(s=se.user)||void 0===s?void 0:s.username,email:null===(ee=se.user)||void 0===ee?void 0:ee.email,status:null===(re=se.user)||void 0===re?void 0:re.status,password:"",password_confirmation:"",roles:[],permissions:[]});return(0,l.bv)((function(){var e,r;oe.permissions=null===(e=se.user)||void 0===e?void 0:e.permissions,oe.roles=null===(r=se.user)||void 0===r?void 0:r.roles})),(0,l.YP)((function(){return se.user}),(function(){var e,r;oe.permissions=null===(e=se.user)||void 0===e?void 0:e.permissions,oe.roles=null===(r=se.user)||void 0===r?void 0:r.roles})),function(r,s){var n=(0,l.up)("Head"),t=(0,l.up)("Toolbar"),ee=(0,l.up)("v-select"),re=(0,l.up)("Link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(n,{title:"Update User"}),(0,l.Wm)(t,{title:"Update User",buttons:[{label:"Back",link:r.route("users.index")}],breadcrumbs:[{label:"System Settings",link:"#"},{label:"Users",link:r.route("users.index")},{label:"Update",link:null}]},null,8,["buttons","breadcrumbs"]),(0,l._)("div",a,[(0,l._)("div",i,[(0,l._)("div",c,[(0,l._)("form",{onSubmit:s[7]||(s[7]=(0,l.iM)((function(s){var o;return(0,l.SU)(oe).put(r.route("users.update",null===(o=e.user)||void 0===o?void 0:o.id))}),["prevent"]))},[(0,l._)("div",u,[(0,l._)("div",d,[(0,l._)("div",m,[b,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":s[0]||(s[0]=function(e){return(0,l.SU)(oe).name=e}),type:"text",class:"form-control form-control-sm",placeholder:"Full Name"},null,512),[[l.nr,(0,l.SU)(oe).name]]),(0,l.Wm)(o.Z,{error:(0,l.SU)(oe).errors.name},null,8,["error"])]),(0,l._)("div",f,[p,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":s[1]||(s[1]=function(e){return(0,l.SU)(oe).username=e}),type:"text",class:"form-control form-control-sm",placeholder:"Username"},null,512),[[l.nr,(0,l.SU)(oe).username]]),(0,l.Wm)(o.Z,{error:(0,l.SU)(oe).errors.username},null,8,["error"])])]),(0,l._)("div",v,[(0,l._)("div",_,[w,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":s[2]||(s[2]=function(e){return(0,l.SU)(oe).email=e}),type:"email",class:"form-control form-control-sm",placeholder:"Email"},null,512),[[l.nr,(0,l.SU)(oe).email]]),(0,l.Wm)(o.Z,{error:(0,l.SU)(oe).errors.email},null,8,["error"])]),(0,l._)("div",g,[U,(0,l._)("div",y,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([{id:1,name:"Active"},{id:0,name:"Inactive"}],(function(e){return(0,l._)("div",{key:e.id,class:"form-check form-check-custom form-check-sm me-10"},[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":function(e){return(0,l.SU)(oe).status=e},value:e.id,class:"form-check-input",name:"status",type:"radio",id:"status_".concat(e.id)},null,8,S),[[l.G2,(0,l.SU)(oe).status]]),(0,l._)("label",{class:"form-check-label",for:"status_".concat(e.id)},(0,l.zw)(e.name),9,k)])})),64))]),(0,l.Wm)(o.Z,{error:(0,l.SU)(oe).errors.status},null,8,["error"])])]),(0,l._)("div",h,[(0,l._)("div",x,[C,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":s[3]||(s[3]=function(e){return(0,l.SU)(oe).password=e}),type:"password",class:"form-control form-control-sm",placeholder:"Password"},null,512),[[l.nr,(0,l.SU)(oe).password]]),(0,l.Wm)(o.Z,{error:(0,l.SU)(oe).errors.password},null,8,["error"])]),(0,l._)("div",B,[V,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":s[4]||(s[4]=function(e){return(0,l.SU)(oe).password_confirmation=e}),type:"password",class:"form-control form-control-sm",placeholder:"Confirm Password"},null,512),[[l.nr,(0,l.SU)(oe).password_confirmation]]),(0,l.Wm)(o.Z,{error:(0,l.SU)(oe).errors.password_confirmation},null,8,["error"])])]),(0,l._)("div",W,[(0,l._)("div",P,[Z,(0,l.Wm)(ee,{modelValue:(0,l.SU)(oe).roles,"onUpdate:modelValue":s[5]||(s[5]=function(e){return(0,l.SU)(oe).roles=e}),options:e.roles,multiple:"",label:"name",class:"v-select-custom",placeholder:"Please Select"},null,8,["modelValue","options"]),(0,l.Wm)(o.Z,{error:(0,l.SU)(oe).errors.roles},null,8,["error"])])]),(0,l._)("div",D,[(0,l._)("div",A,[q,(0,l.Wm)(ee,{modelValue:(0,l.SU)(oe).permissions,"onUpdate:modelValue":s[6]||(s[6]=function(e){return(0,l.SU)(oe).permissions=e}),options:e.permissions,multiple:"",label:"name",class:"v-select-custom",placeholder:"Please Select"},null,8,["modelValue","options"]),(0,l.Wm)(o.Z,{error:(0,l.SU)(oe).errors.permissions},null,8,["error"])])])]),(0,l._)("div",N,[(0,l._)("button",{type:"submit",ref:"submitButton",class:"btn btn-success me-2",disabled:(0,l.SU)(oe).processing,"data-kt-indicator":(0,l.SU)(oe).processing?"on":"off"},R,8,M),(0,l.Wm)(re,{href:r.route("users.index"),class:"btn btn-secondary"},{default:(0,l.w5)((function(){return[(0,l.Uk)("Cancel")]})),_:1},8,["href"])])],32),H,(0,l._)("div",Y,[(0,l._)("div",z,[(0,l._)("table",E,[T,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.user.roles,(function(r){return(0,l.wg)(),(0,l.iD)("tr",{key:r.id},[(0,l._)("td",null,(0,l.zw)(r.name),1),(0,l._)("td",K,[(0,l._)("a",{onClick:(0,l.iM)((function(s){return(0,l.SU)(le)("users.roles.revoke",e.user.id,r.id)}),["prevent"]),class:"btn btn-icon btn-danger btn-circle btn-sm me-2","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Revoke"},I,8,j)])])})),128))])])])]),O,(0,l._)("div",F,[(0,l._)("div",G,[(0,l._)("table",L,[J,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.user.permissions,(function(r){return(0,l.wg)(),(0,l.iD)("tr",{key:r.id},[(0,l._)("td",null,(0,l.zw)(r.name),1),(0,l._)("td",Q,[(0,l._)("a",{onClick:(0,l.iM)((function(s){return(0,l.SU)(le)("users.permissions.revoke",e.user.id,r.id)}),["prevent"]),class:"btn btn-icon btn-danger btn-circle btn-sm me-2","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Revoke"},$,8,X)])])})),128))])])])])])])])],64)}}})}}]);