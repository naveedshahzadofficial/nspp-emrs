"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7210],{7577:(e,l,r)=>{r.d(l,{M:()=>n});var s=r(8748),t=r(8542),o=r.n(t);function n(){return{filterData:function(e,l){l=Object.keys(l).reduce((function(e,r){var s=l[r];return""!==s&&null!=s&&(e[r]=s),e}),{}),s.Nd.get(route(e),l,{preserveScroll:!0,preserveState:!0,replace:!0})},destroy:function(e,l){o().fire({text:"Are you sure you want to delete this?",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete",buttonsStyling:!1,customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-secondary"}}).then((function(r){r.isConfirmed&&s.Nd.delete(route(e,l),{preserveScroll:!0})}))},toggleStatus:function(e,l){o().fire({text:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:null!=l&&l.status?"Deactivate":"Activate",buttonsStyling:!1,customClass:{confirmButton:null!=l&&l.status?"btn fw-bold btn-danger":"btn fw-bold btn-success",cancelButton:"btn fw-bold btn-secondary"}}).then((function(r){r.isConfirmed&&s.Nd.delete(route(e,null==l?void 0:l.id),{preserveScroll:!0})}))},revoke:function(e,l,r){o().fire({text:"Are you sure you want to revoke this?",icon:"warning",showCancelButton:!0,confirmButtonText:"Revoke",buttonsStyling:!1,customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-secondary"}}).then((function(t){t.isConfirmed&&s.Nd.delete(route(e,[l,r]),{preserveScroll:!0})}))},printReceipt:function(){var e,l,r,s,t,o,n,a,i,u,d=document.querySelector("#kt_wrapper"),c=document.querySelector("#kt_aside"),m=document.querySelector("#kt_header"),p=document.querySelector("#kt_toolbar"),b=document.querySelector("#kt_footer");null==c||null===(e=c.style)||void 0===e||e.setProperty("display","none"),null==m||null===(l=m.style)||void 0===l||l.setProperty("display","none"),null==p||null===(r=p.style)||void 0===r||r.setProperty("display","none"),null==b||null===(s=b.style)||void 0===s||s.setProperty("display","none"),null==d||null===(t=d.style)||void 0===t||t.setProperty("padding-top","0"),window.print(),null==c||null===(o=c.style)||void 0===o||o.removeProperty("display"),null==m||null===(n=m.style)||void 0===n||n.removeProperty("display"),null==p||null===(a=p.style)||void 0===a||a.removeProperty("display"),null==b||null===(i=b.style)||void 0===i||i.removeProperty("display"),null==d||null===(u=d.style)||void 0===u||u.removeProperty("padding-top")}}}},8706:(e,l,r)=>{r.d(l,{Z:()=>n});var s=r(821),t={key:0,class:"fv-plugins-message-container"},o={class:"fv-help-block"};const n=(0,s.aZ)({__name:"ServerErrorMessage",props:{error:String},setup:function(e){return function(l,r){return e.error?((0,s.wg)(),(0,s.iD)("div",t,[(0,s._)("div",o,[(0,s._)("span",null,(0,s.zw)(e.error),1)])])):(0,s.kq)("",!0)}}})},7210:(e,l,r)=>{r.r(l),r.d(l,{default:()=>se});var s=r(821),t=r(8706),o=r(8748),n=r(7577),a={class:"d-flex flex-column-fluid"},i={id:"kt_content_container",class:"container-fluid"},u={class:"card card-custom"},d={class:"card-body"},c={class:"row mb-10"},m={class:"col-lg-6"},p=(0,s._)("label",{class:"required form-label"},"Name",-1),b={class:"col-lg-6"},f=(0,s._)("label",{class:"required form-label"},"Username",-1),v={class:"row mb-10"},_={class:"col-lg-6"},y=(0,s._)("label",{class:"required form-label"},"Email",-1),w={class:"col-lg-6"},g=(0,s._)("label",{class:"required form-label"},"Status",-1),S={class:"d-flex"},U=["onUpdate:modelValue","value","id"],k=["for"],h={class:"row mb-10"},x={class:"col-lg-6"},P=(0,s._)("label",{class:"required form-label"},"Password",-1),C={class:"col-lg-6"},V=(0,s._)("label",{class:"required form-label"},"Confirm Password",-1),W={class:"row mb-10"},B={class:"col-lg-12"},q=(0,s._)("label",{class:"form-label"},"Institute",-1),Z={class:"row mb-10"},A={class:"col-lg-12"},D=(0,s._)("label",{class:"form-label"},"Roles",-1),N={class:"row mb-10"},R={class:"col-lg-12"},M=(0,s._)("label",{class:"form-label"},"Permissions",-1),H={class:"card-footer"},Y=["disabled","data-kt-indicator"],z=[(0,s._)("span",{class:"indicator-label"}," Update ",-1),(0,s._)("span",{class:"indicator-progress"},[(0,s.Uk)(" Please wait... "),(0,s._)("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1)],E=(0,s._)("div",{class:"card-header mt-10"},[(0,s._)("div",{class:"card-title"},[(0,s._)("span",{class:"fw-semibold"},"User Roles")])],-1),T={class:"card-body"},I={class:"table-responsive"},K={class:"table table-row-bordered table-row-gray-300 align-middle gs-0 gy-4"},j=(0,s._)("thead",null,[(0,s._)("tr",{class:"fw-semibold fs-6 text-gray-800"},[(0,s._)("th",null,"Role Name"),(0,s._)("th",{class:"text-center w-200px"},"Action")])],-1),O={class:"text-center"},F=["onClick"],G=[(0,s._)("i",{class:"fas fa-undo"},null,-1)],L=(0,s._)("div",{class:"card-header"},[(0,s._)("div",{class:"card-title"},[(0,s._)("span",{class:"fw-semibold"},"User Permissions")])],-1),J={class:"card-body"},Q={class:"table-responsive"},X={class:"table table-row-bordered table-row-gray-300 align-middle gs-0 gy-4"},$=(0,s._)("thead",null,[(0,s._)("tr",{class:"fw-semibold fs-6 text-gray-800"},[(0,s._)("th",null,"Permission Name"),(0,s._)("th",{class:"text-center w-200px"},"Action")])],-1),ee={class:"text-center"},le=["onClick"],re=[(0,s._)("i",{class:"fas fa-undo"},null,-1)];const se=(0,s.aZ)({__name:"Edit",props:{user:{type:Object,required:!0},institutes:Array,roles:Array,permissions:Array},setup:function(e){var l,r,se,te,oe,ne=e,ae=(0,n.M)().revoke,ie=(0,o.cI)({name:null===(l=ne.user)||void 0===l?void 0:l.name,username:null===(r=ne.user)||void 0===r?void 0:r.username,email:null===(se=ne.user)||void 0===se?void 0:se.email,status:null===(te=ne.user)||void 0===te?void 0:te.status,password:"",password_confirmation:"",institute_id:null===(oe=ne.user)||void 0===oe?void 0:oe.institute_id,roles:[],permissions:[]});return(0,s.bv)((function(){var e,l;ie.permissions=null===(e=ne.user)||void 0===e?void 0:e.permissions,ie.roles=null===(l=ne.user)||void 0===l?void 0:l.roles})),(0,s.YP)((function(){return ne.user}),(function(){var e,l;ie.permissions=null===(e=ne.user)||void 0===e?void 0:e.permissions,ie.roles=null===(l=ne.user)||void 0===l?void 0:l.roles})),function(l,r){var o=(0,s.up)("Head"),n=(0,s.up)("Toolbar"),se=(0,s.up)("v-select"),te=(0,s.up)("Link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(o,{title:"Update User"}),(0,s.Wm)(n,{title:"Update User",buttons:[{label:"Back",link:l.route("users.index")}],breadcrumbs:[{label:"System Settings",link:"#"},{label:"Users",link:l.route("users.index")},{label:"Update",link:null}]},null,8,["buttons","breadcrumbs"]),(0,s._)("div",a,[(0,s._)("div",i,[(0,s._)("div",u,[(0,s._)("form",{onSubmit:r[8]||(r[8]=(0,s.iM)((function(r){var t;return(0,s.SU)(ie).put(l.route("users.update",null===(t=e.user)||void 0===t?void 0:t.id))}),["prevent"]))},[(0,s._)("div",d,[(0,s._)("div",c,[(0,s._)("div",m,[p,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[0]||(r[0]=function(e){return(0,s.SU)(ie).name=e}),type:"text",class:"form-control form-control-sm",placeholder:"Full Name"},null,512),[[s.nr,(0,s.SU)(ie).name]]),(0,s.Wm)(t.Z,{error:(0,s.SU)(ie).errors.name},null,8,["error"])]),(0,s._)("div",b,[f,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[1]||(r[1]=function(e){return(0,s.SU)(ie).username=e}),type:"text",class:"form-control form-control-sm",placeholder:"Username"},null,512),[[s.nr,(0,s.SU)(ie).username]]),(0,s.Wm)(t.Z,{error:(0,s.SU)(ie).errors.username},null,8,["error"])])]),(0,s._)("div",v,[(0,s._)("div",_,[y,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[2]||(r[2]=function(e){return(0,s.SU)(ie).email=e}),type:"email",class:"form-control form-control-sm",placeholder:"Email"},null,512),[[s.nr,(0,s.SU)(ie).email]]),(0,s.Wm)(t.Z,{error:(0,s.SU)(ie).errors.email},null,8,["error"])]),(0,s._)("div",w,[g,(0,s._)("div",S,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)([{id:1,name:"Active"},{id:0,name:"Inactive"}],(function(e){return(0,s._)("div",{key:e.id,class:"form-check form-check-custom form-check-sm me-10"},[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":function(e){return(0,s.SU)(ie).status=e},value:e.id,class:"form-check-input",name:"status",type:"radio",id:"status_".concat(e.id)},null,8,U),[[s.G2,(0,s.SU)(ie).status]]),(0,s._)("label",{class:"form-check-label",for:"status_".concat(e.id)},(0,s.zw)(e.name),9,k)])})),64))]),(0,s.Wm)(t.Z,{error:(0,s.SU)(ie).errors.status},null,8,["error"])])]),(0,s._)("div",h,[(0,s._)("div",x,[P,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[3]||(r[3]=function(e){return(0,s.SU)(ie).password=e}),type:"password",class:"form-control form-control-sm",placeholder:"Password"},null,512),[[s.nr,(0,s.SU)(ie).password]]),(0,s.Wm)(t.Z,{error:(0,s.SU)(ie).errors.password},null,8,["error"])]),(0,s._)("div",C,[V,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[4]||(r[4]=function(e){return(0,s.SU)(ie).password_confirmation=e}),type:"password",class:"form-control form-control-sm",placeholder:"Confirm Password"},null,512),[[s.nr,(0,s.SU)(ie).password_confirmation]]),(0,s.Wm)(t.Z,{error:(0,s.SU)(ie).errors.password_confirmation},null,8,["error"])])]),(0,s._)("div",W,[(0,s._)("div",B,[q,(0,s.Wm)(se,{modelValue:(0,s.SU)(ie).institute_id,"onUpdate:modelValue":r[5]||(r[5]=function(e){return(0,s.SU)(ie).institute_id=e}),options:e.institutes,reduce:function(e){return e.id},label:"name",class:"v-select-custom",placeholder:"Please Select"},null,8,["modelValue","options","reduce"]),(0,s.Wm)(t.Z,{error:(0,s.SU)(ie).errors.institute_id},null,8,["error"])])]),(0,s._)("div",Z,[(0,s._)("div",A,[D,(0,s.Wm)(se,{modelValue:(0,s.SU)(ie).roles,"onUpdate:modelValue":r[6]||(r[6]=function(e){return(0,s.SU)(ie).roles=e}),options:e.roles,multiple:"",label:"name",class:"v-select-custom",placeholder:"Please Select"},null,8,["modelValue","options"]),(0,s.Wm)(t.Z,{error:(0,s.SU)(ie).errors.roles},null,8,["error"])])]),(0,s._)("div",N,[(0,s._)("div",R,[M,(0,s.Wm)(se,{modelValue:(0,s.SU)(ie).permissions,"onUpdate:modelValue":r[7]||(r[7]=function(e){return(0,s.SU)(ie).permissions=e}),options:e.permissions,multiple:"",label:"name",class:"v-select-custom",placeholder:"Please Select"},null,8,["modelValue","options"]),(0,s.Wm)(t.Z,{error:(0,s.SU)(ie).errors.permissions},null,8,["error"])])])]),(0,s._)("div",H,[(0,s._)("button",{type:"submit",ref:"submitButton",class:"btn btn-success me-2",disabled:(0,s.SU)(ie).processing,"data-kt-indicator":(0,s.SU)(ie).processing?"on":"off"},z,8,Y),(0,s.Wm)(te,{href:l.route("users.index"),class:"btn btn-secondary"},{default:(0,s.w5)((function(){return[(0,s.Uk)("Cancel")]})),_:1},8,["href"])])],32),E,(0,s._)("div",T,[(0,s._)("div",I,[(0,s._)("table",K,[j,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.user.roles,(function(l){return(0,s.wg)(),(0,s.iD)("tr",{key:l.id},[(0,s._)("td",null,(0,s.zw)(l.name),1),(0,s._)("td",O,[(0,s._)("a",{onClick:(0,s.iM)((function(r){return(0,s.SU)(ae)("users.roles.revoke",e.user.id,l.id)}),["prevent"]),class:"btn btn-icon btn-danger btn-circle btn-sm me-2","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Revoke"},G,8,F)])])})),128))])])])]),L,(0,s._)("div",J,[(0,s._)("div",Q,[(0,s._)("table",X,[$,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.user.permissions,(function(l){return(0,s.wg)(),(0,s.iD)("tr",{key:l.id},[(0,s._)("td",null,(0,s.zw)(l.name),1),(0,s._)("td",ee,[(0,s._)("a",{onClick:(0,s.iM)((function(r){return(0,s.SU)(ae)("users.permissions.revoke",e.user.id,l.id)}),["prevent"]),class:"btn btn-icon btn-danger btn-circle btn-sm me-2","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Revoke"},re,8,le)])])})),128))])])])])])])])],64)}}})}}]);