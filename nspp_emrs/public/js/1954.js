"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1954],{8706:(e,r,t)=>{t.d(r,{Z:()=>a});var l=t(821),n={key:0,class:"fv-plugins-message-container"},o={class:"fv-help-block"};const a=(0,l.aZ)({__name:"ServerErrorMessage",props:{error:String},setup:function(e){return function(r,t){return e.error?((0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",o,[(0,l._)("span",null,(0,l.zw)(e.error),1)])])):(0,l.kq)("",!0)}}})},1954:(e,r,t)=>{t.r(r),t.d(r,{default:()=>B});var l=t(821),n=t(8706),o=t(8748);function a(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,n,o,a,i=[],c=!0,u=!1;try{if(o=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(l=o.call(t)).done)&&(i.push(l.value),i.length!==r);c=!0);}catch(e){u=!0,n=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw n}}return i}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return i(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,l=new Array(r);t<r;t++)l[t]=e[t];return l}var c={class:"d-flex flex-column-fluid"},u={id:"kt_content_container",class:"container-fluid"},s={class:"card card-custom"},d={class:"card-body"},m={class:"row mb-10"},p={class:"col-lg-6"},f=(0,l._)("label",{class:"form-label required"},"Item Type",-1),_={class:"col-lg-6"},v=(0,l._)("label",{class:"form-label required"},"Medicine",-1),b={class:"row mb-10"},y={class:"col-lg-4"},U=(0,l._)("label",{class:"required form-label"},"Quantity",-1),k={class:"col-lg-4"},g=(0,l._)("label",{class:"form-label"},"Unit Rate",-1),S={class:"col-lg-4"},h=(0,l._)("label",{class:"form-label"},"Amount",-1),w={class:"row mb-10"},x={class:"col-lg-4"},V=(0,l._)("label",{class:"form-label"},"Manufacturing Date",-1),W={class:"col-lg-4"},q=(0,l._)("label",{class:"required form-label"},"Expiry Date",-1),Z={class:"col-lg-4"},M=(0,l._)("label",{class:"required form-label"},"Pack Size",-1),A={class:"row mb-10"},D={class:"col-lg-4"},z=(0,l._)("label",{class:"form-label"},"Manufacturer",-1),j={class:"col-lg-4"},I=(0,l._)("label",{class:"form-label"},"Supplier",-1),P={class:"col-lg-4"},C=(0,l._)("label",{class:"required form-label"},"Status",-1),O={class:"d-flex"},E=["onUpdate:modelValue","value","id"],Y=["for"],H={class:"card-footer"},F=["disabled","data-kt-indicator"],T=[(0,l._)("span",{class:"indicator-label"}," Update ",-1),(0,l._)("span",{class:"indicator-progress"},[(0,l.Uk)(" Please wait... "),(0,l._)("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1)];const B=(0,l.aZ)({__name:"Edit",props:{medicineCategories:{type:Object,required:!0},medicines:{type:Array,required:!0},stock:{type:Object,required:!0}},setup:function(e){var r,t,i,B,Q,R,G,K,L,$,J,N,X=e,ee=(0,o.cI)({medicine_category_id:null===(r=X.stock)||void 0===r?void 0:r.medicine_category_id,medicine_id:null===(t=X.stock)||void 0===t?void 0:t.medicine_id,qty:null===(i=X.stock)||void 0===i?void 0:i.qty,unit_rate:null===(B=X.stock)||void 0===B?void 0:B.unit_rate,amount:null===(Q=X.stock)||void 0===Q?void 0:Q.amount,manufacturing_date:null===(R=X.stock)||void 0===R?void 0:R.manufacturing_date,expiry_date:null===(G=X.stock)||void 0===G?void 0:G.expiry_date,pack_size:null===(K=X.stock)||void 0===K?void 0:K.pack_size,manufacturer:null===(L=X.stock)||void 0===L?void 0:L.manufacturer,supplier:null===($=X.stock)||void 0===$?void 0:$.supplier,status:null===(J=X.stock)||void 0===J?void 0:J.status}),re=function(e){var r;return null===(r=X.medicines)||void 0===r?void 0:r.filter((function(r){return r.medicine_category_id===e}))},te=(0,l.iH)(re(null===(N=X.stock)||void 0===N?void 0:N.medicine_category_id)),le=function(e){var r=e.getDate()<10?"0"+e.getDate():e.getDate(),t=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,l=e.getFullYear();return"".concat(r,"-").concat(t,"-").concat(l)};return(0,l.YP)((function(){return ee.medicine_category_id}),(function(e){ee.medicine_id="",te.value=re(e)})),(0,l.YP)((function(){return[ee.qty,ee.unit_rate]}),(function(e){var r=a(e,2),t=r[0],l=r[1];ee.amount="0.00",t&&l&&(ee.amount=(parseInt(t)*parseFloat(l)).toFixed(2))})),function(r,t){var o=(0,l.up)("Head"),a=(0,l.up)("Toolbar"),i=(0,l.up)("v-select"),B=(0,l.up)("v-date-picker"),Q=(0,l.up)("Link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(o,{title:"Update Stock"}),(0,l.Wm)(a,{title:"Update Stock",buttons:[{label:"Back",link:r.route("stocks.index")}],breadcrumbs:[{label:"Stocks",link:r.route("stocks.index")},{label:"Update",link:null}]},null,8,["buttons","breadcrumbs"]),(0,l._)("div",c,[(0,l._)("div",u,[(0,l._)("div",s,[(0,l._)("form",{onSubmit:t[10]||(t[10]=(0,l.iM)((function(t){var n;return(0,l.SU)(ee).put(r.route("stocks.update",null===(n=e.stock)||void 0===n?void 0:n.id))}),["prevent"]))},[(0,l._)("div",d,[(0,l._)("div",m,[(0,l._)("div",p,[f,(0,l.Wm)(i,{modelValue:(0,l.SU)(ee).medicine_category_id,"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,l.SU)(ee).medicine_category_id=e}),options:e.medicineCategories,label:"category_name",reduce:function(e){return e.id},class:"v-select-custom",placeholder:"Please Select"},null,8,["modelValue","options","reduce"]),(0,l.Wm)(n.Z,{error:(0,l.SU)(ee).errors.medicine_category_id},null,8,["error"])]),(0,l._)("div",_,[v,(0,l.Wm)(i,{modelValue:(0,l.SU)(ee).medicine_id,"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,l.SU)(ee).medicine_id=e}),options:te.value,reduce:function(e){return e.id},label:"medicine_name",class:"v-select-custom",placeholder:"Please Select"},null,8,["modelValue","options","reduce"]),(0,l.Wm)(n.Z,{error:(0,l.SU)(ee).errors.medicine_id},null,8,["error"])])]),(0,l._)("div",b,[(0,l._)("div",y,[U,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return(0,l.SU)(ee).qty=e}),type:"text",class:"form-control form-control-sm",placeholder:"Quantity"},null,512),[[l.nr,(0,l.SU)(ee).qty]]),(0,l.Wm)(n.Z,{error:(0,l.SU)(ee).errors.qty},null,8,["error"])]),(0,l._)("div",k,[g,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return(0,l.SU)(ee).unit_rate=e}),type:"text",class:"form-control form-control-sm",placeholder:"Unit Rate"},null,512),[[l.nr,(0,l.SU)(ee).unit_rate]]),(0,l.Wm)(n.Z,{error:(0,l.SU)(ee).errors.unit_rate},null,8,["error"])]),(0,l._)("div",S,[h,(0,l.wy)((0,l._)("input",{style:{"background-color":"#eef1f5"},"onUpdate:modelValue":t[4]||(t[4]=function(e){return(0,l.SU)(ee).amount=e}),readonly:"",type:"text",class:"form-control form-control-sm",placeholder:"Amount"},null,512),[[l.nr,(0,l.SU)(ee).amount]]),(0,l.Wm)(n.Z,{error:(0,l.SU)(ee).errors.amount},null,8,["error"])])]),(0,l._)("div",w,[(0,l._)("div",x,[V,(0,l.Wm)(B,{modelValue:(0,l.SU)(ee).manufacturing_date,"onUpdate:modelValue":t[5]||(t[5]=function(e){return(0,l.SU)(ee).manufacturing_date=e}),"enable-time-picker":!1,clearable:!0,"auto-apply":"",format:le,"preview-format":le,placeholder:"Manufacturing Date"},null,8,["modelValue"]),(0,l.Wm)(n.Z,{error:(0,l.SU)(ee).errors.manufacturing_date},null,8,["error"])]),(0,l._)("div",W,[q,(0,l.Wm)(B,{modelValue:(0,l.SU)(ee).expiry_date,"onUpdate:modelValue":t[6]||(t[6]=function(e){return(0,l.SU)(ee).expiry_date=e}),"enable-time-picker":!1,clearable:!0,"auto-apply":"",format:le,"preview-format":le,placeholder:"Expiry Date"},null,8,["modelValue"]),(0,l.Wm)(n.Z,{error:(0,l.SU)(ee).errors.expiry_date},null,8,["error"])]),(0,l._)("div",Z,[M,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return(0,l.SU)(ee).pack_size=e}),type:"text",class:"form-control form-control-sm",placeholder:"Pack Size"},null,512),[[l.nr,(0,l.SU)(ee).pack_size]]),(0,l.Wm)(n.Z,{error:(0,l.SU)(ee).errors.pack_size},null,8,["error"])])]),(0,l._)("div",A,[(0,l._)("div",D,[z,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return(0,l.SU)(ee).manufacturer=e}),type:"text",class:"form-control form-control-sm",placeholder:"Manufacturer"},null,512),[[l.nr,(0,l.SU)(ee).manufacturer]]),(0,l.Wm)(n.Z,{error:(0,l.SU)(ee).errors.manufacturer},null,8,["error"])]),(0,l._)("div",j,[I,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return(0,l.SU)(ee).supplier=e}),type:"text",class:"form-control form-control-sm",placeholder:"Supplier"},null,512),[[l.nr,(0,l.SU)(ee).supplier]]),(0,l.Wm)(n.Z,{error:(0,l.SU)(ee).errors.supplier},null,8,["error"])]),(0,l._)("div",P,[C,(0,l._)("div",O,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([{id:1,name:"Active"},{id:0,name:"Inactive"}],(function(e){return(0,l._)("div",{key:e.id,class:"form-check form-check-custom form-check-sm me-10"},[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":function(e){return(0,l.SU)(ee).status=e},value:e.id,class:"form-check-input",name:"status",type:"radio",id:"status_".concat(e.id)},null,8,E),[[l.G2,(0,l.SU)(ee).status]]),(0,l._)("label",{class:"form-check-label",for:"status_".concat(e.id)},(0,l.zw)(e.name),9,Y)])})),64))]),(0,l.Wm)(n.Z,{error:(0,l.SU)(ee).errors.status},null,8,["error"])])])]),(0,l._)("div",H,[(0,l._)("button",{type:"submit",ref:"submitButton",class:"btn btn-success me-2",disabled:(0,l.SU)(ee).processing,"data-kt-indicator":(0,l.SU)(ee).processing?"on":"off"},T,8,F),(0,l.Wm)(Q,{href:r.route("stocks.index"),class:"btn btn-secondary"},{default:(0,l.w5)((function(){return[(0,l.Uk)("Cancel")]})),_:1},8,["href"])])],32)])])])],64)}}})}}]);